@tailwind base;
@tailwind components;
@tailwind utilities;

/* Black & White theme (mobile-first) */
:root {
  --bw-bg: #ffffff;
  --bw-fg: #000000;
  --bw-muted: #666666;
  --bw-border: #1a1a1a;

  /* Brand palette (Tailwind-backed) */
  --brand-primary: #007C91; /* Teal */
  --brand-accent: #00E5FF;  /* Cyan */
  --brand-surface: #FFFFFF; /* White */
  --brand-ui: #ECEFF1;      /* Soft Grey */
  --brand-text: #1A1A1A;    /* Dark Black */
}

/* Apply theme to body and root */
.bw-theme, .bw-theme body {
  background: var(--bw-bg);
  color: var(--bw-fg);
}

/* General typography tweaks for mobile */
@media (max-width: 600px) {
  body { font-size: 15px; }
}

/* AppBar: black background + white text */
.bw-theme .MuiAppBar-root {
  /* Use CSS variable palette for reliability in production */
  background-color: var(--brand-primary) !important;
  color: #ffffff !important;
}
.bw-theme .MuiAppBar-root .MuiToolbar-root,
.bw-theme .MuiAppBar-root .MuiTypography-root,
.bw-theme .MuiAppBar-root .MuiIconButton-root {
  color: #ffffff !important;
}

/* Default text should remain black on light surfaces */
.bw-theme .MuiTypography-root { color: var(--brand-text) !important; }

/* Shared page title styling for consistent headers */
.page-title {
  color: var(--brand-text) !important;
  font-weight: 700 !important;
  letter-spacing: 0.2px;
}

/* Paper: white surface + black text */
.bw-theme .MuiPaper-root {
  background-color: var(--brand-surface) !important;
  color: var(--brand-text) !important;
  border: 1px solid var(--brand-ui) !important;
  box-shadow: none !important;
  border-radius: 12px;
}

/* Buttons: black background + white text */
.bw-theme .MuiButton-root {
  background-color: var(--brand-primary) !important;
  color: #ffffff !important;
  border-radius: 12px;
  min-height: 40px;
}
.bw-theme .MuiButton-root.MuiButton-outlined {
  background-color: transparent !important;
  color: var(--brand-primary) !important;
  border-color: var(--brand-primary) !important;
}

/* Chips: black text, black border on white surface */
.bw-theme .MuiChip-root {
  color: #000000 !important;
  border-color: #000000 !important;
}

/* Inputs */
.bw-theme .MuiTextField-root .MuiInputBase-root,
.bw-theme .MuiOutlinedInput-notchedOutline { border-color: #000000 !important; }
.bw-theme .MuiInputLabel-root { color: var(--bw-muted) !important; }
@media (max-width: 600px) {
  .bw-theme .MuiInputBase-input { font-size: 16px; } /* prevent iOS zoom */
}

/* Tables */
.bw-theme .MuiTableCell-root { border-color: var(--bw-border) !important; }
.bw-theme .MuiTableContainer-root { overflow-x: auto; }

/* Map container: mobile height */
.map-fullscreen {
  height: calc(100vh - 56px);
  width: 100%;
}

/* Action bar for mobile */
.action-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--brand-primary);
  color: #ffffff;
  padding: 10px 12px;
  display: flex;
  gap: 10px;
  justify-content: space-between;
}

/* Global mobile responsiveness */
@media (max-width: 900px) {
  .bw-theme .MuiContainer-root { padding-left: 12px !important; padding-right: 12px !important; }
  .bw-theme .MuiContainer-maxWidthXl,
  .bw-theme .MuiContainer-maxWidthLg,
  .bw-theme .MuiContainer-maxWidthMd,
  .bw-theme .MuiContainer-maxWidthSm,
  .bw-theme .MuiContainer-maxWidthXs { max-width: 100% !important; }
  .bw-theme .MuiButton-root { width: 100%; }
  .bw-theme .MuiGrid-item { padding-top: 8px !important; padding-left: 8px !important; }
  .bw-theme .app-main { padding: 12px !important; }
}

/* Admin layout stack on mobile */
@media (max-width: 900px) {
  .admin-layout { flex-direction: column !important; }
  .admin-layout .admin-sidebar { width: 100% !important; margin-bottom: 12px; }
}

/* Mobile-first global fixes */
html, body, #root { height: 100%; }
body { margin: 0; -webkit-text-size-adjust: 100%; }

@media (max-width: 600px) {
  /* Compact surfaces and type for small screens */
  .bw-theme .MuiPaper-root { padding: 12px !important; margin: 8px 0 !important; }
  .bw-theme .MuiCardContent-root { padding: 12px !important; }
  .bw-theme .MuiTypography-h4 { font-size: 1.4rem !important; }

  /* Full-width dialogs as mobile sheets */
  .bw-theme .MuiDialog-paper { width: 100% !important; max-width: 100% !important; margin: 0 !important; border-radius: 0 !important; }

  /* Toolbar sizing for mobile ergonomics */
  .bw-theme .MuiToolbar-root { min-height: 56px !important; }

  /* Avoid leftover horizontal gaps between buttons on mobile */
  .bw-theme .MuiButton-root + .MuiButton-root { margin-left: 0 !important; }
}
